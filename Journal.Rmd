---
title: "Assignment Journal"
output:
  pdf_document:
    toc: yes
    toc_depth: '1'
  html_document:
    toc: yes
    toc_float: yes
    collapsed: no
    number_sections: no
    toc_depth: 1
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE,warning=FALSE, cache=TRUE)
```

This is where all of my assignments and exams for CRIM250 are located. 


# Assignment 1

### Problem 1 

Install the datasets package on the console below using `install.packages("datasets")`. Now load the library.

```{r}
USArrests
```

Load the USArrests dataset and rename it `dat`. Note that this dataset comes with R, in the package datasets, so there's no need to load data from your computer. Why is it useful to rename the dataset?

```{r}
dat<-USArrests
dat.USArrests <- dat
```

*Answer:* It is useful to rename the dataset for two reasons. First, it will help you keep track of your work and not confuse it with other generic-looking names of other datasets. Second, it will allow you to keep an original copy of the file while creating a new file with all of the changes you are currently making on it. 

### Problem 2

Use this command to make the state names into a new variable called State. 

```{r}
dat.USArrests$state <- tolower(rownames(USArrests))
dat.USArrests
```

This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case.


List the variables contained in the dataset `USArrests`.

```{r}
names(dat.USArrests)
```

*Answer:* The variables include Murder, Assault, Rape, Urban Population, and State. 

### Problem 3 

What type of variable (from the DVB chapter) is `Murder`? 

*Answer:*  In the DVB chapter, "Murder" would be considered a qualitative, or categorical, variable.

What R Type of variable is it?

*Answer:* "Murder" is considered a character in R.


### Problem 4

What information is contained in this dataset, in general? What do the numbers mean? 

*Answer:*  The dataset includes the arrest rates for murder, assault, and rape per 100,000 residents in each of the US's 50 states. Additionally, the percent of the population living in urban areas is given. Here, then, the numbers mean either the arrest rates for a crime per 100k residents in a state or the percent of residents living in urban spaces in a state.

### Problem 5

Draw a histogram of `Murder` with proper labels and title.

```{r}
hist(dat.USArrests$Murder, main="Histogram of Murder Rates", xlab="Murder Rates per State", ylab="Frequency")

```

### Problem 6

Please summarize `Murder` quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?

```{r}
summary(dat.USArrests$Murder)
```

*Answer:* The mean of "Murder" is 7.788, while its median is 7.250. Generally, mean signifies the solution of all of the values added together and then divided by the number of values, while median signifies the middle value when all values are lined up in ascending order. A quartile constitutes one of three values that divides a data distribution into fourths. Lastly, R would provide the first and third quartile in order to help the statistician understand where the majority of values lie (in between the first and third quartile) or what values might be considered outliers (before the first and after the third).

### Problem 7

Repeat the same steps you followed for `Murder`, for the variables `Assault` and `Rape`. Now plot all three histograms together. You can do this by using the command `par(mfrow=c(3,1))` and then plotting each of the three. 

```{r, echo = TRUE, fig.width = 5, fig.height = 8}
hist(dat.USArrests$Assault, main="Histogram of Assault Rates", xlab="Assault Rates per State", ylab="Frequency")
hist(dat.USArrests$Rape, main="Histogram of Rape Rates", xlab="Rape Rates per State", ylab="Frequency")
```
```{r, echo = TRUE, fig.width = 5, fig.height = 8}
par(mfrow=c(3,1))
hist(dat.USArrests$Murder, main="Histogram of Murder Rates", xlab="Murder Rates per State", ylab="Frequency")
hist(dat.USArrests$Assault, main="Histogram of Assault Rates", xlab="Assault Rates per State", ylab="Frequency")
hist(dat.USArrests$Rape, main="Histogram of Rape Rates", xlab="Rape Rates per State", ylab="Frequency")
```

What does the command par do, in your own words (you can look this up by asking R `?par`)?

*Answer:* The command par enables the statistician to set graphical parameters for data in either a singular graph or multiple graphs. 

What can you learn from plotting the histograms together?

*Answer:* By plotting histograms together, you are able to compare the data between different categories -- in this case, comparing the differences in assault and murder rates per state, for example. Additionally, you can gain a better understand of the data overall by looking at it holistically instead of piece-by-piece. 
  
### Problem 8

In the console below (not in text), type `install.packages("maps")` and press Enter, and then type `install.packages("ggplot2")` and press Enter. This will install the packages so you can load the libraries.

Run this code:

```{r, eval = FALSE, fig.width = 7.5, fig.height = 4}
library('maps') 
library('ggplot2') 

ggplot(dat, aes(map_id=state, fill=Murder)) + 
  geom_map(map=map_data("state")) + 
  expand_limits(x=map_data("state")$long, y=map_data("state")$lat)
```

What does this code do? Explain what each line is doing.

*Answer:* This code is mapping the arrest rates of murder per 100,000 citizens per state. With this, we are able to see the salience and prominence of arrest rates through a colored map of the United States. The first line is using the data groups of "state" and "Murder" to construct aesthetic mapping in a ggplot, filling the map with "Murder" rates. Next, the second line is the direction to map the states, while the third line is expanding the x and y axes, i.e. longitude and latitude, in the graph. 


# Assignment 2

### Problem 1: Load Data

```{r}
dat <- read.csv(file = 'dat.nsduh.small.1.csv')
head(dat)
```

*What are the dimensions of the data set?*

```{r}
names(dat)
```

### Problem 2: Variables

*Describe the variables in the dataset*

The variables are forms of quantitative variables, and all the datasets are described as integers within R. Here, these variables are labeled as mjage (age of first use of marijuana), cigage (age of first daily use of cigarettes), iralcage (age that first tried alcohol), age2 (age recorded the second time), sexatract (sexual attraction/action towards different genders), speakengl (proficiency in English), and irsex (sex of individual). 

```{r}
class(dat$mjage)
class(dat$cigage)
class(dat$iralcage)
class(dat$age2)
class(dat$sexatract)
class(dat$speakengl)
class(dat$irsex)
```

*What is this dataset about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data?*

The data describe a respondent’s first use of a variety of substances, including alcohol, marijuana, and cigarettes, as well as describing the age, language, sex, and sexual orientation of the respondents. The data presented in this set are a small sample from the entirety of data collected by the National Survey of Drug Use and Health. Here, only the first 1,000 responses are used out of the entire representative sample taken by the NSDUH. By generating this data, the NSDUH is able to greater understand the use of particular substances around the country, as well as the sexual tendencies of individuals, based on age, gender, and language proficiency. 

### Problem 3: Age and gender

*What is the age distribution of the sample like? Make sure you read the codebook to know what the variable values mean.*

```{r}
hist(dat$age2, main="Age of Respondents", xlab = "Code for Age Group", ylab = "Frequency")
```

*Do you think this age distribution representative of the US population? Why or why not?*

I do not believe this distribution is representative of the US population, because, more than anything, the way the ages are distributed in these coded groups are completely skewed, with codes 1-12 solely for individuals at or under 25 years of age, while the codes 12-17 are responsible for the rest of the population’s ages. Here, nearly 2/3 of the codes account for solely over 1/3 of the United States population (that under 25 years of age). In this data set, there are no patterns to age distribution, with some codes representing one age, others representing four, and others representing fourteen. 

*Is the sample balanced in terms of gender? If not, are there more females or males?*

```{r}
counts <- table(dat$irsex)
counts
barplot(counts, main="Gender Distribution", xlab="Gender", names=c("Male","Female"))
```

The sample is nearly balanced by gender, yet based on this sample of the data, there are 11 more male respondents (totaling 91) than female respondents (totaling 80). 

*Use this code to draw a stacked bar plot to view the relationship between sex and age. What can you conclude from this plot?*

```{r}
tab.agesex <- table(dat$irsex, dat$age2)
barplot(tab.agesex, main = "Stacked barchart", xlab = "Age category", ylab = "Frequency", legend.text = rownames(tab.agesex),beside = FALSE) # Stacked bars (default)
```

From this plot, it is shown that the majority of individuals, both male and female, are within the 15 age category, with gender being nearly evenly distributed in this area. Moving to other age categories, the outlier categories on both sides tend to be more male, while women are more centered along the 8-16 age categories. 

### Problem 4: Substance Use

*For which of the three substances included in the dataset (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier?* 

```{r}
par(mfrow=c(3,1))
hist(dat$mjage, main="Histogram of Marijuana Use", xlab="Age of First Marijuana Use", ylab="Frequency")
hist(dat$cigage, main="Histogram of Cigarette Use", xlab="Age of First Cigarette Use", ylab="Frequency")
hist(dat$iralcage, main="Histogram of Alcohol Use", xlab="Age of First Alcohol Use", ylab="Frequency")
```

In this dataset, marijuana is tended to be used the youngest, with a large frequency of first use between 10-15 years of age in comparison to the entire histogram. In the other histograms, the dispersion of first use tends to be highest around the 15 or 15-20 age ranges. 

### Problem 5: Sexual Attraction

*What does the distribution of sexual attraction look like? Is this what you expected?* 

```{r}
as.numeric(dat$sexatract)
if (!require('dplyr')) install.packages('dplyr'); library('dplyr')
dat$sexatract <- dat$sexatract %>% na_if(., "99")
hist(dat$sexatract, main="Sexual Attraction Histogram", xlab = "Code for Sexual Attraction", ylab = "Frequency")
```

The distribution of sexual attraction is heavily skewed to opposite-sex attraction, under the code 1. As expected in surveying the majority of Americans, this plot is in line with a general representation of the population and sexuality. 

*What is the distribution of sexual attraction by gender?*

```{r}
as.numeric(dat$sexatract)
tab.atractsex <- table(dat$irsex, dat$sexatract)
barplot(tab.atractsex, main = "Stacked Barchart of Sexual Attraction and Sex", xlab = "Sexual Attraction Code", ylab = "Frequency", legend.text = rownames(tab.atractsex), beside = FALSE) # Stacked bars (default)
```

Based on gender, men are more likely to fall under the category 1 (opposite-sex attraction), with a small proportion being strictly homosexual. On the other hand, women tend to have more experiences in sexual fluidity, and although the majority falls under the category 1 as well, there is much more representation in the categories of 2, 3, and 4, signifying sexual experimentation and/or variety. 

### Problem 6: English Speaking

*What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?* 

```{r}
tab.langsex <- table(dat$irsex, dat$speakengl)
barplot(tab.langsex, main = "Barchart of Sex and Language Ability", xlab = "Language Ability", ylab = "Frequency", legend.text = rownames(tab.langsex), beside = FALSE) # Stacked bars (default)
```

The distribution of English ability in this sample is heavily skewed towards 1, that of speaking English “very well,” nearly equally for both males and females. However, based on the diversity of the US population, I believe a random sample should need to include less of the first code of perfect English and more of the codes 2, 3, and 4 in English ability

*Are there more English speaker females or males?*

```{r}
tab.langsex
```

Here, there are a few more male English speakers than female English speakers.


# Exam 1

### Instructions

a. Create a folder in your computer (a good place would be under Crim 250, Exams). 

b. Download the dataset from the Canvas website (fatal-police-shootings-data.csv) onto that folder, and save your Exam 1.Rmd file in the same folder.

c. Download the README.md file. This is the codebook. 

d. Load the data into an R data frame.

```{r}

```



